"use strict";(self.webpackChunkdaikoku_documentation=self.webpackChunkdaikoku_documentation||[]).push([[4172],{31872:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"usages/adminusage/tenants","title":"Managing tenants","description":"Go to settings/Organizations settings","source":"@site/docs/02-usages/07-adminusage/1-tenants.md","sourceDirName":"02-usages/07-adminusage","slug":"/usages/adminusage/tenants","permalink":"/daikoku/docs/usages/adminusage/tenants","draft":false,"unlisted":false,"tags":[],"version":"current","sidebarPosition":1,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Using Daikoku as Daikoku admin","permalink":"/daikoku/docs/usages/adminusage/"},"next":{"title":"Managing users","permalink":"/daikoku/docs/usages/adminusage/users"}}');var a=t(74848),s=t(28453);const o={},r="Managing tenants",l={},d=[{value:"Create a tenant",id:"create-a-tenant",level:2},{value:"General",id:"general",level:3},{value:"Customizing the Client Name Pattern",id:"customizing-the-client-name-pattern",level:4},{value:"Syntax",id:"syntax",level:5},{value:"Available Variables",id:"available-variables",level:5},{value:"User",id:"user",level:6},{value:"API",id:"api",level:6},{value:"Plan",id:"plan",level:6},{value:"Team",id:"team",level:6},{value:"Tenant",id:"tenant",level:6},{value:"Creation Timestamp",id:"creation-timestamp",level:6},{value:"Tip",id:"tip",level:5},{value:"Customization",id:"customization",level:3},{value:"Footer",id:"footer",level:4},{value:"Unlogged home description",id:"unlogged-home-description",level:4},{value:"Audit",id:"audit",level:3},{value:"Mail",id:"mail",level:3},{value:"Authentication",id:"authentication",level:3},{value:"Bucket",id:"bucket",level:3},{value:"Payment",id:"payment",level:3},{value:"Configuring Stripe",id:"configuring-stripe",level:4},{value:"Security",id:"security",level:3},{value:"Display mode",id:"display-mode",level:3}];function c(e){const n={a:"a",admonition:"admonition",blockquote:"blockquote",br:"br",code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",header:"header",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,s.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"managing-tenants",children:"Managing tenants"})}),"\n",(0,a.jsxs)(n.p,{children:["Go to ",(0,a.jsx)(n.code,{children:"settings/Organizations settings"})]}),"\n",(0,a.jsxs)(n.p,{children:["And you should see the list of the existing ",(0,a.jsx)(n.code,{children:"tenants"}),"."]}),"\n",(0,a.jsx)(n.h2,{id:"create-a-tenant",children:"Create a tenant"}),"\n",(0,a.jsxs)(n.p,{children:["To create a new tenant, just click on the ",(0,a.jsx)(n.code,{children:"create a new tenant"})," button."]}),"\n",(0,a.jsx)(n.h3,{id:"general",children:"General"}),"\n",(0,a.jsx)(n.p,{children:"Modify the name and the domain name of the current tenant.\nIt's possible to set the default language of the tenant.\nMaintenance Mode and construction mode can be activated here (only Daikoku and Tenant admins can login)."}),"\n",(0,a.jsx)(n.p,{children:"A robot.txt file is serve on the path /robot.txt by default, the file is empty, but you can fill it like you want."}),"\n",(0,a.jsx)(n.h4,{id:"customizing-the-client-name-pattern",children:"Customizing the Client Name Pattern"}),"\n",(0,a.jsxs)(n.p,{children:["When generating an API key, you can define a ",(0,a.jsx)(n.strong,{children:"custom client name pattern"})," that includes dynamic values. This helps create meaningful, consistent client names that reflect key context such as the user, team, or API involved."]}),"\n",(0,a.jsx)(n.h5,{id:"syntax",children:"Syntax"}),"\n",(0,a.jsxs)(n.p,{children:["Use the expression language (syntax like ",(0,a.jsx)(n.code,{children:"${...}"}),") to insert dynamic values.",(0,a.jsx)(n.br,{}),"\n","For example:\n",(0,a.jsx)(n.code,{children:"${team.name}::${api.name}/${plan.customName}"})]}),"\n",(0,a.jsx)(n.p,{children:"Might produce:"}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.code,{children:"team-name::my-api/prod"})}),"\n",(0,a.jsx)(n.h5,{id:"available-variables",children:"Available Variables"}),"\n",(0,a.jsx)(n.p,{children:"You can inject the following variables into your pattern:"}),"\n",(0,a.jsx)(n.h6,{id:"user",children:"User"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${user.id}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${user.humanReadableId}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${user.name}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${user.email}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${user.metadata.<value>}"})}),"\n"]}),"\n",(0,a.jsx)(n.h6,{id:"api",children:"API"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${api.id}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${api.humanReadableId}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${api.name}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${api.currentVersion}"})}),"\n"]}),"\n",(0,a.jsx)(n.h6,{id:"plan",children:"Plan"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${plan.id}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${plan.customName}"})}),"\n"]}),"\n",(0,a.jsx)(n.h6,{id:"team",children:"Team"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${team.id}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${team.humanReadableId}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${team.name}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${team.metadata.<value>}"})}),"\n"]}),"\n",(0,a.jsx)(n.h6,{id:"tenant",children:"Tenant"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${tenant.id}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${tenant.humanReadableId}"})}),"\n",(0,a.jsx)(n.li,{children:(0,a.jsx)(n.code,{children:"${tenant.name}"})}),"\n"]}),"\n",(0,a.jsx)(n.h6,{id:"creation-timestamp",children:"Creation Timestamp"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"${createdAt}"})," \u2014 ISO 8601 format (e.g. ",(0,a.jsx)(n.code,{children:"2025-07-24T10:42:00Z"}),")"]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"${createdAtMillis}"})," \u2014 Unix timestamp in milliseconds"]}),"\n"]}),"\n",(0,a.jsx)(n.h5,{id:"tip",children:"Tip"}),"\n",(0,a.jsxs)(n.p,{children:["If you're using metadata (e.g. ",(0,a.jsx)(n.code,{children:"${user.metadata.department}"}),"), make sure the key exists in the entity's metadata before applying the pattern \u2014 otherwise it may resolve as an empty string."]}),"\n",(0,a.jsx)(n.h3,{id:"customization",children:"Customization"}),"\n",(0,a.jsx)(n.p,{children:"Tenants could be customized in Daikoku.\nLogo, title, description can be changed."}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"It is possible to manage 4 types of logos: a full logo for the dashboard and a minimal logo for the top bar, both in light or dark theme."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"The client side can be customized with some CSS code or JS code, with overwriting CSS variables or with a CSS/JS file.\nDaikoku can be customized just by passing a new CSS color theme."}),"\n",(0,a.jsxs)(n.admonition,{type:"warning",children:[(0,a.jsxs)(n.p,{children:["Since ",(0,a.jsx)(n.strong,{children:"v18.7.1"})," the file to customize your tenant must be sync with the ",(0,a.jsx)(n.strong,{children:"CLI"}),". Daikoku do not provide anymore UI to update your css, color theme or js."]}),(0,a.jsxs)(n.p,{children:["You can find all the information to use the CLI ",(0,a.jsx)(n.a,{href:"/daikoku/docs/cli/informations/",children:"here"})]})]}),"\n",(0,a.jsx)(n.p,{children:"You can set a default message, visible for all users clicking on the message button, at the top of conversation modal."}),"\n",(0,a.jsxs)(n.p,{children:["To go further, it is possible to create new pages with the embedded ",(0,a.jsx)(n.a,{href:"/daikoku/docs/usages/tenantusage/cms",children:"CMS"})]}),"\n",(0,a.jsx)(n.h4,{id:"footer",children:"Footer"}),"\n",(0,a.jsx)(n.hr,{}),"\n",(0,a.jsxs)(n.p,{children:["Daikoku allows you to display a footer on any frontend page. Since version ",(0,a.jsx)(n.code,{children:"18.7.1"}),", footer management is handled via the command-line interface (CLI). If you created a footer using the user interface, a migration has been performed to integrate it into a CMS page. Otherwise, you just need to create a CMS page named ",(0,a.jsx)(n.code,{children:"footer.html"}),".\nEven better, you can have a footer version for each language.\nSimply create a footer folder in the customization directory, then create subfolders for each language (fr, en) and add a page.html file with the code to each."]}),"\n",(0,a.jsx)(n.h4,{id:"unlogged-home-description",children:"Unlogged home description"}),"\n",(0,a.jsx)(n.p,{children:"The unlogged home description is the first content shown to the user for private tenant, before the login page.\nIt can also be enabled for public tenant."}),"\n",(0,a.jsx)(n.h3,{id:"audit",children:"Audit"}),"\n",(0,a.jsx)(n.p,{children:"The settings for the output of the audit trail can be set on this page.\nThe output of it, in addition to writing in database, can be an Elastic, a Kafka or webhooks."}),"\n",(0,a.jsx)(n.p,{children:"Here you can set the email addresses to report some Daikoku alerts."}),"\n",(0,a.jsx)(n.h3,{id:"mail",children:"Mail"}),"\n",(0,a.jsx)(n.p,{children:"The mailer type is by default, just the standard output.\nMailgun, Mailjet and Sendgrid can be configured as a SASS solution.\nOtherwise, a SMTP client can be configured."}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["The mail templates (one by supported languages) can be edited on the ",(0,a.jsx)(n.code,{children:"internationalization page"})," accessible by clicking the ",(0,a.jsx)(n.code,{children:"edit mail template"})," button."]}),"\n"]}),"\n",(0,a.jsx)(n.h3,{id:"authentication",children:"Authentication"}),"\n",(0,a.jsx)(n.p,{children:"Authentication can be set by choose Local auth. or a tiers auth. like LDAP, OAuth2 or Otoroshi.\nThe user session duration can be set here, by default it last 24h."}),"\n",(0,a.jsx)(n.h3,{id:"bucket",children:"Bucket"}),"\n",(0,a.jsx)(n.p,{children:"An object storage can be set to store tenant and team assets."}),"\n",(0,a.jsx)(n.h3,{id:"payment",children:"Payment"}),"\n",(0,a.jsx)(n.p,{children:"Daikoku offers full integration with an online payment service, allowing users to easily manage their financial transactions as part of the subscription process."}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsxs)(n.p,{children:["Currently, only integration with ",(0,a.jsx)(n.a,{href:"https://stripe.com",children:"Stripe"})," is implemented, but our project is open to integrating with other payment platforms. Daikoku's code is designed to be modular, making it easier to add support for additional payment platforms. We welcome contributions to enhance our product in this area."]}),"\n"]}),"\n",(0,a.jsx)(n.h4,{id:"configuring-stripe",children:"Configuring Stripe"}),"\n",(0,a.jsx)(n.p,{children:"Before using Stripe with Daikoku, you need to complete the following steps:"}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Create a Stripe Account"}),": Visit the Stripe website (stripe.com) to create an account. Follow Stripe's instructions to verify your identity and set up your payment account."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Obtain Stripe API Keys"}),": Once your Stripe account is set up, you need to obtain the necessary API keys to communicate with the Stripe API from Daikoku. These keys include the secret API key and the public API key."]}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.strong,{children:"Configure API Keys in Daikoku"}),": Access the Daikoku configuration settings (in the tenant configuration) and provide the Stripe API keys in the appropriate fields. This allows Daikoku to communicate with Stripe for payment handling."]}),"\n"]}),"\n"]}),"\n",(0,a.jsxs)(n.p,{children:["The next step is to configure your API to accept payments. See this ",(0,a.jsx)(n.a,{href:"/daikoku/docs/usages/producerusage/apis",children:"part"})," of the documentation to learn more"]}),"\n",(0,a.jsx)(n.h3,{id:"security",children:"Security"}),"\n",(0,a.jsx)(n.p,{children:"A tenant can be either private or public. In the last case, just a public API can be accessed by unauthenticated users."}),"\n",(0,a.jsx)(n.p,{children:"A creation security option can be activated to forbid all unauthorized teams to create API. You just have to authorize the team from the team edit page."}),"\n",(0,a.jsx)(n.p,{children:"A subscription security option can be activated to forbid all personal team to subscribe to an API."}),"\n",(0,a.jsx)(n.p,{children:"An API keys aggregation security can be activated to allow the admin API to activate the possibility to aggregate the generated key with an existing API key. It must be activated in every plan"}),"\n",(0,a.jsxs)(n.blockquote,{children:["\n",(0,a.jsx)(n.p,{children:"Beware the risk of override metadata between key using multiple plans."}),"\n"]}),"\n",(0,a.jsx)(n.p,{children:"It's possible to hide the API Reference tab (for all APIs) to unlogged user. This is a feature primary intended for public tenants."}),"\n",(0,a.jsx)(n.p,{children:"It's possible to hide the teams page (/teams) to prevent everyone for knowing all the teams in the organization. This is a feature primary intended for public tenants."}),"\n",(0,a.jsxs)(n.p,{children:["An account creation process can be setup, by describing a workflow using th esame validation steps than ",(0,a.jsx)(n.a,{href:"/daikoku/docs/usages/producerusage/apis#plans",children:"api subscription"})]}),"\n",(0,a.jsx)(n.p,{children:"Default authorized otoroshi entities can be configured. All future teams will be created with this value by default. This value can be propagated (by replacing or merging) to all created teams."}),"\n",(0,a.jsx)(n.h3,{id:"display-mode",children:"Display mode"}),"\n",(0,a.jsxs)(n.p,{children:["It's possible to switch tenant display mode from ",(0,a.jsx)(n.code,{children:"default"})," to ",(0,a.jsx)(n.code,{children:"environment"}),".\nSee this ",(0,a.jsx)(n.a,{href:"/daikoku/docs/usages/tenantusage/5.5-display",children:"part"})," of the documentation to learn more."]})]})}function h(e={}){const{wrapper:n}={...(0,s.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(c,{...e})}):c(e)}},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(96540);const a={},s=i.createContext(a);function o(e){const n=i.useContext(s);return i.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:o(e.components),i.createElement(s.Provider,{value:n},e.children)}}}]);