@import fr.maif.otoroshi.daikoku.env.Env
@import fr.maif.otoroshi.daikoku.env.DaikokuMode
@import fr.maif.otoroshi.daikoku.domain.User
@import fr.maif.otoroshi.daikoku.domain.UserSession
@import fr.maif.otoroshi.daikoku.domain.Tenant
@import fr.maif.otoroshi.daikoku.domain.Team

@(user: User, session: UserSession, tenant: Tenant, host: String, env: Env, isTenantAdmin: Boolean, apiCreationPermitted: Boolean)

@customStyle = {
  @(tenant.colorTheme())
  @if(env.config.isDev) {
    <link rel="stylesheet" media="screen" href="http://@host:3000/daikoku.css">
  } 
  @if(env.config.isProd) {
    <link rel="stylesheet" href="/assets/javascripts/bundle/client.min.css">
  }
  @(tenant.moareStyle())
}

@customJs = {
  @(tenant.moareJs())
}

@main(tenant.style.map(_.title).getOrElse(tenant.name), moreStyles = customStyle, moreScripts = customJs, favicon = tenant.favicon()) {
  <div id="app"></div>
  <div id="portal-root"></div>
  @if(env.config.isDev) {
    <script type="text/javascript" src="http://@host:3000/daikoku.js"></script>
  } 
  @if(env.config.isProd) {
    <script type="text/javascript" src="/assets/javascripts/bundle/client.min.js"></script>
  }
}
